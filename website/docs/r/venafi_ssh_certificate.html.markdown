---
subcategory: "Certificate Issuance"
layout: "venafi"
page_title: "CyberArk: venafi_ssh_certificate"
description: |-
  Provides access to request and retrieve SSH certificates from CyberArk Certificate Manager, Self-Hosted.
---

# venafi_ssh_certificate

Provides access to request and retrieve SSH certificates from *CyberArk Certificate Manager, Self-Hosted*.

## Example Usage

```hcl
resource "venafi_ssh_certificate" "ssh_cert" {
    key_id = "my-first-ssh-certificate"
    template = "Sample SSH CA"
    public_key_method = "local"
    key_passphrase = "passw0rd"
    key_size = 3072
    principal = [ "seamus" ]
    valid_hours = 24
}
```

## Argument Reference

The following arguments are supported:

* `key_id` - (Required, string) The identifier of the requested SSH certificate.

* `template` - (Required, string) The SSH certificate issuing template.

* `key_passphrase` - (Optional, string) Passphrase for encrypting the private key.

* `folder` - (Optional, string) The DN of the policy folder where the SSH certificate object will be created.

* `force_command` - (Optional, string) A command to run after successful login.

* `key_size` - (Optional, integer) Number of bits to use when creating a key pair. (e.g. `3072`).

* `windows` - (Optional, boolean) Specifies whether the private key will use Windows/DOS style line breaks.

* `valid_hours` - (Optional, integer) Desired number of hours for which the certificate will be valid.

* `object_name` - (Optional, string) The friendly name of the SSH certificate object. When not specified the `key_id` 
is used for the friendly name. If the object already exists the old certificate is archived and the CA issues a new 
certificate.

* `public_key` - (Optional, string) The OpenSSH formatted public key that will be used to generate the SSH certificate.

* `public_key_method` - (Optional, string) Specifies whether the public key will be `local` (default), `file` or 
`service` generated.

* `principal` [DEPRECATED] - (Optional, set of strings) Use "principals" instead. A list of usernames for whom the 
requested certificate will be valid.

* `principals` - (Optional, set of strings) A list of usernames for whom the requested certificate will be valid.

* `source_address` - (Optional, set of strings) A list of one or more valid IP or CIDR addresses that can use the SSH 
certificate.

* `destination_address` - (Optional, set of strings) A list of one or more valid IP or CIDR destination hosts where the 
certificate will authenticate.

* `extension` - (Optional, set of strings) A list of key-value pairs that contain certificate extensions from the CA 
template for client certificates. Allowed values (case-sensitive): `permit-X11-forwarding`, `permit-agent-forwarding`, 
`permit-port-forwarding`, `permit-pty`, `permit-user-rc`.


## Attributes Reference

The following attributes are exported:

* `certificate` - The issued SSH certificate.

* `private_key` - The private key for the SSH certificate if generated by CyberArk Machine Identity Service.

* `certificate_type` - Indicates whether the SSH certificate is for client or server authentication.

* `public_key_fingerprint` - The SHA256 fingerprint of the SSH certificate's public key.

* `signing_ca` - The SHA256 fingerprint of the CA that signed the SSH certificate.

* `serial` - The serial number of the SSH certificate.

* `valid_from` - The date the SSH certificate was issued.

* `valid_to` - The date the SSH certificate will expire.
